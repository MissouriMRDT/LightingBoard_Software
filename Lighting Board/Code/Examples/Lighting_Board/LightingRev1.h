#ifndef _LightingBoard
#define _LightingBoard

#include <Energia.h> 
#include "RoveComm.h"
#include "Adafruit_NeoPixel.h"

RoveCommEthernet RoveComm;
rovecomm_packet packet;

//timekeeping variables
uint32_t last_update_time;

//declare the Ethernet Server in the top level sketch with the requisite port ID any time you want to use RoveComm
EthernetServer TCPServer(RC_ROVECOMM_MULTIMEDIABOARD_PORT);

#define BRIGHTNESS       130 //max at 130
#define AUTONOMY_COUNT  647 // 256+256+135

#define HEADLIGHT_TOGGLE  PE_3  
#define AUTONOMY_PANEL		3 //PF_1


Adafruit_NeoPixel autonomy = Adafruit_NeoPixel(AUTONOMY_COUNT,AUTONOMY_PANEL,NEO_GRB);

const uint32_t LOGO [256] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1118481, 65793, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 263172, 1250067, 65793, 0, 263172, 1381653, 263172, 0, 65536, 1572864, 
              3932160, 3866624, 1507328, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 327680, 7012352, 9961472, 10027008, 10027008, 9961472, 
              7208960, 525573, 1579032, 1315860, 0, 0, 0, 0, 197379, 2763306, 4523526, 10027008, 10027008, 10027008, 10027008, 
              10027008, 10027008, 7012352, 65536, 0, 0, 0, 0, 0, 0, 1507328, 9961472, 10027008, 10027008, 10027008, 10027008, 
              10027008, 8978432, 917504, 1511697, 0, 0, 0, 0, 0, 0, 4128768, 1835008, 3801088, 10027008, 10027008, 10027008, 
              10027008, 10027008, 10027008, 3997696, 0, 0, 0, 0, 0, 0, 4063232, 10027008, 10027008, 10027008, 10027008, 10027008, 
              9109504, 393216, 8716288, 4390912, 0, 0, 0, 0, 0, 0, 1900544, 10027008, 5177344, 3080192, 9895936, 10027008, 
              10027008, 10027008, 9961472, 1638400, 0, 0, 0, 0, 0, 0, 65536, 7340803, 10027008, 10027008, 9961472, 3276800, 
              1507328, 9895936, 7536640, 65536, 0, 0, 0, 0, 0, 0, 0, 458752, 7602176, 7929856, 65536, 4259840, 9961472, 7275010, 
              1445904, 0, 0, 0, 0, 0, 0, 0, 0, 1907997, 855052, 3217946, 2954260, 2033929, 1900544, 65536, 0, 0, 0, 0, 0, 0, 0, 0, 
              0, 0, 0, 0, 131586, 2697513, 3026478, 2565927, 657930, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 197379, 65793, 0, 0, 0, 0, 0, 0, 
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

const uint32_t BELGIUM_FLAG [256] = {2171169, 2171169, 2171169, 2171169, 2171169, 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 12000284, 
                 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 16771899, 16771899, 16771899, 
                 16771899, 16771899, 16771899, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 
                 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 
                 12000284, 12000284, 12000284, 12000284, 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 2171169, 2171169, 
                 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 16771899, 16771899, 16771899, 16771899, 16771899, 
                 16771899, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 16771899, 
                 16771899, 16771899, 16771899, 16771899, 16771899, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 
                 2171169, 2171169, 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 12000284, 12000284, 12000284, 12000284, 
                 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 
                 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 16771899, 16771899, 16771899, 
                 16771899, 16771899, 16771899, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 
                 12000284, 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 
                 2171169, 2171169, 2171169, 2171169, 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 12000284, 12000284, 12000284, 
                 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 16771899, 16771899, 16771899, 16771899, 16771899, 
                 16771899, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 2171169, 16771899, 16771899, 
                 16771899, 16771899, 16771899, 16771899, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 
                 12000284, 12000284, 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 2171169, 2171169, 2171169, 2171169, 2171169, 
                 2171169, 2171169, 2171169, 2171169, 2171169, 16771899, 16771899, 16771899, 16771899, 16771899, 16771899, 12000284, 12000284, 
                 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 12000284, 16771899, 16771899, 16771899, 16771899, 
                 16771899, 16771899, 2171169, 2171169, 2171169, 2171169, 2171169};

const uint32_t FLAG [256] = {873906, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 
              15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 873906, 873906, 15330286, 873906, 15330286, 
              873906, 15330286, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 14290996, 14290996, 14290996, 14290996, 
              14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 873906, 873906, 
              15330286, 873906, 15330286, 873906, 15330286, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 15330286, 15330286, 
              15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 
              873906, 873906, 15330286, 873906, 15330286, 873906, 15330286, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 
              14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 
              14290996, 14290996, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 873906, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 
              15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 
              15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 14290996, 14290996, 
              14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 
              14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 
              14290996, 14290996, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 
              15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 
              15330286, 15330286, 15330286, 15330286, 15330286, 15330286, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 
              14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 
              14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996, 14290996};

const uint32_t DIRT_BLOCK [256] = {5222455, 4164908, 4164908, 4164908, 4164908, 4164908, 4164908, 4164908, 5222455, 5222455, 5222455, 5222455, 5222455, 5222455, 
                    4164908, 4164908, 5222455, 4164908, 4164908, 4164908, 4164908, 5387810, 4164908, 4164908, 4164908, 5222455, 4164908, 4164908, 
                    4164908, 5222455, 4164908, 4164908, 4164908, 4164908, 2759442, 5222455, 5222455, 4336411, 4164908, 4164908, 4164908, 5387810, 
                    5387810, 5387810, 5387810, 5387810, 5387810, 5222455, 6702123, 5387810, 4336411, 6702123, 5387810, 5387810, 5387810, 5387810, 
                    4164908, 5387810, 4336411, 4164908, 5222455, 2759442, 4164908, 5222455, 4164908, 2233870, 5387810, 2233870, 2233870, 4336411, 
                    5387810, 5387810, 5387810, 6702123, 4336411, 5387810, 5387810, 4336411, 6702123, 6702123, 6702123, 5387810, 2233870, 6702123, 
                    6702123, 5387810, 6702123, 3482134, 2759442, 3482134, 5387810, 2233870, 6702123, 3482134, 3482134, 4164908, 4336411, 4336411, 
                    2759442, 6702123, 5387810, 4336411, 4336411, 2759442, 3482134, 3482134, 3482134, 5387810, 2759442, 3482134, 5387810, 6702123, 
                    6702123, 5387810, 6702123, 4336411, 4336411, 3482134, 8224895, 6702123, 3482134, 2759442, 1774091, 6702123, 6702123, 6702123, 
                    2759442, 6702123, 3482134, 6702123, 4336411, 6702123, 6702123, 5387810, 6702123, 6702123, 2233870, 5387810, 5387810, 3482134, 
                    5387810, 6702123, 4336411, 6702123, 5387810, 4336411, 5387810, 4336411, 4336411, 3482134, 2759442, 1774091, 4336411, 4336411, 
                    4336411, 4336411, 6702123, 6702123, 6702123, 6702123, 3482134, 3482134, 8224895, 6702123, 3482134, 4336411, 5387810, 6702123, 
                    2233870, 4336411, 3482134, 2759442, 3482134, 4336411, 4336411, 6702123, 6702123, 5387810, 5387810, 5387810, 3482134, 6702123, 
                    4336411, 5387810, 1774091, 3482134, 4336411, 3482134, 4336411, 3482134, 5387810, 5387810, 2759442, 1774091, 1445385, 6702123, 
                    3482134, 5387810, 6702123, 2759442, 4336411, 3482134, 5387810, 3482134, 5387810, 6702123, 2759442, 6702123, 6702123, 5387810, 
                    6702123, 5387810, 4336411, 3482134, 4336411, 4336411, 4336411, 3482134, 5387810, 3482134, 6702123, 2759442, 4336411, 5387810, 
                    5387810, 5387810, 6702123, 2759442, 6702123, 5387810, 2759442, 1774091, 3482134, 3482134, 2759442, 3482134, 2759442, 4336411, 
                    4336411, 4336411, 6702123, 5387810, 3482134, 5387810, 4336411, 8224895, 4336411, 4336411, 4336411, 5387810, 5387810, 6702123, 
                    2759442, 2759442, 2759442, 2759442};

const uint32_t DOTES [256] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8148564, 7483180, 6759458, 7022628, 7019803, 5382430, 7020572, 7150874, 6890015, 
              7750723, 7945532, 7814715, 7417645, 7881023, 0, 0, 7872029, 8525336, 8459799, 8525335, 8394263, 8394007, 8459543, 8262934, 8263190, 
              8066581, 8328982, 8198166, 8395031, 6822680, 0, 0, 7347482, 8854297, 8657176, 7608600, 7608857, 8656921, 8787737, 8787481, 8721944, 
              8984346, 8722714, 6952983, 8395034, 8331295, 0, 0, 8855070, 8722715, 6634298, 8150364, 8199196, 8787737, 8984346, 8918809, 7019290, 
              6379864, 7960695, 8724253, 8920090, 7806235, 0, 0, 7544862, 9379100, 9312795, 7228490, 8331040, 9181211, 9246747, 8984859, 7417390, 
              10392724, 8807780, 8788508, 9312283, 8855584, 0, 0, 8199967, 9443612, 9574685, 8985373, 9532531, 14869218, 8741730, 8461598, 9443612, 
              9378076, 9313309, 9444124, 9510173, 6172204, 0, 0, 7415075, 9444636, 9640733, 9640477, 9509405, 7744556, 11511975, 16448250, 9203823, 
              8985629, 9640477, 9771549, 9706013, 7871516, 0, 0, 8790048, 9902622, 9837086, 9771549, 9771549, 9051166, 10060161, 16448250, 14935011, 
              8608859, 8986143, 9771550, 9706525, 7085854, 0, 0, 8331038, 9903391, 8137258, 8878969, 16316664, 16579836, 9139315, 9183009, 9968158, 
              10033950, 9968671, 8920094, 10033950, 9116445, 0, 0, 8597810, 10165023, 6897214, 8406084, 9902879, 10099487, 10230559, 9248031, 10917269, 
              16711422, 16711422, 11840684, 9969184, 8723998, 0, 0, 8461342, 10230559, 11172731, 16711422, 11642791, 9249059, 10427424, 10361631, 10165279, 
              8472391, 15000804, 8223868, 9444639, 8856356, 0, 0, 9706783, 10492960, 8723999, 8996421, 9382958, 10100000, 10361631, 10689568, 10689568, 
              9314338, 9651268, 9643046, 10427424, 8723742, 0, 0, 8789022, 10624032, 10820641, 10624032, 10624032, 10689568, 10755105, 10689568, 10886433, 
              10689568, 10624032, 10689568, 10820641, 9772319, 0, 0, 7351338, 7546405, 7415076, 7479842, 7349284, 8789535, 9576738, 9576481, 9117471, 8658976, 
              8199197, 8920094, 7086368, 7021346, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

const uint32_t MCDONALD [256] = {13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 13574433, 13574433, 
             13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 16571664, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 16571664, 
             13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 13574433, 16571664, 16571664, 13574433, 13574433, 16571664, 16571664, 13574433, 16571664, 
             16571664, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 13574433, 16571664, 16571664, 13574433, 13574433, 16571664, 16571664, 13574433, 
             16571664, 16571664, 16571664, 13574433, 13574433, 16571664, 16571664, 16571664, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 13574433, 
             13574433, 13574433, 16571664, 16571664, 13574433, 13574433, 16571664, 16571664, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 
             13574433, 13574433, 13574433, 16571664, 16571664, 13574433, 13574433, 16571664, 16571664, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 
             16571664, 13574433, 13574433, 13574433, 16571664, 16571664, 13574433, 16571664, 16571664, 16571664, 13574433, 13574433, 13574433, 16571664, 16571664, 
             16571664, 16571664, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 16571664, 16571664, 13574433, 13574433, 13574433, 13574433, 
             16571664, 16571664, 13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 16571664, 16571664, 13574433, 13574433, 13574433, 
             13574433, 16571664, 16571664, 13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 16571664, 13574433, 13574433, 13574433, 
             13574433, 13574433, 16571664, 16571664, 13574433, 13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 13574433, 13574433, 
             13574433, 13574433, 13574433, 16571664, 16571664, 13574433, 13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 13574433, 
             13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 13574433, 13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 16571664, 
             13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 16571664, 
             16571664, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 16571664, 16571664, 
             13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 13574433, 
             13574433};

const uint32_t MSW [256] = {14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 16777215, 16777215, 9880631, 9880631, 9880631, 9880631, 9880631, 
                 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 16777215, 16777215, 14441013, 14441013, 14441013, 14441013, 
                 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 16777215, 16777215, 9880631, 9880631, 9880631, 
                 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 16777215, 16777215, 14441013, 14441013, 14441013, 
                 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 16777215, 16777215, 9880631, 9880631, 
                 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 16777215, 16777215, 14441013, 14441013, 
                 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 14441013, 16777215, 16777215, 9880631, 
                 9880631, 9880631, 9880631, 9880631, 9880631, 9880631, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 
                 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 
                 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 16777215, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 16777215, 
                 16777215, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 16777215, 16777215, 
                 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 16777215, 
                 16777215, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 16777215, 16777215, 
                 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 16777215, 16777215, 
                 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 5157100, 16777215, 16777215, 15907128, 
                 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 15907128, 16777215, 16777215, 5157100, 
                 5157100, 5157100, 5157100, 5157100, 5157100, 5157100};

#endif